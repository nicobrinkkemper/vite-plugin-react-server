{"version":3,"file":"index.js","sourceRoot":"","sources":["../index.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAIb,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,KAAK,CAAC,8BAA8B,CAAC,CAAA;AAEnF,MAAM,CAAC,MAAM,eAAe,GAAG,KAAK,EAAE,OAA4B,EAAC,EAAE;IACnE,IAAG,CAAC,QAAQ,EAAC,CAAC;QACZ,OAAO,GAAE,EAAE,GAAC,CAAC,CAAA;IACf,CAAC;SAAM,CAAC;QACN,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,aAAa,CAAC,CAAA;QAC1C,OAAO,MAAM,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAA;IAC1C,CAAC;AACH,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,eAAe,GAAG,KAAK,EAAE,OAA4B,EAAC,EAAE;IACnE,IAAG,QAAQ,EAAC,CAAC;QACT,OAAO,GAAE,EAAE,GAAC,CAAC,CAAA;IACjB,CAAC;SAAM,CAAC;QACN,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,aAAa,CAAC,CAAA;QAC1C,OAAO,MAAM,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAA;IAC1C,CAAC;AACH,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,OAA4B,EAAC,EAAE;IAC7D,IAAG,QAAQ,EAAC,CAAC;QACX,OAAO,eAAe,CAAC,OAAO,CAAC,CAAA;IACjC,CAAC;SAAM,CAAC;QACN,OAAO,eAAe,CAAC,OAAO,CAAC,CAAA;IACjC,CAAC;AACH,CAAC,CAAA","sourcesContent":["\"use strict\";\n\nimport type { StreamPluginOptions } from './plugin/types.js';\n\nconst isServer = process.env['NODE_OPTIONS']?.match(/--conditions[= ]react-server/)\n\nexport const viteReactServer = async (options: StreamPluginOptions)=>{\n  if(!isServer){\n    return ()=>{}\n  } else {\n    const module = await import('./server.js')\n    return module.reactStreamPlugin(options)\n  }\n}\n\nexport const viteReactClient = async (options: StreamPluginOptions)=>{\n  if(isServer){\n      return ()=>{}\n  } else {\n    const module = await import('./client.js')\n    return module.reactStreamPlugin(options)\n  }\n}\n\nexport const viteReactStream = (options: StreamPluginOptions)=>{\n  if(isServer){\n    return viteReactClient(options)\n  } else {\n    return viteReactServer(options)\n  }\n}\n"]}